// pages/mine/mine.js
Page({

  /**
   * é¡µé¢çš„åˆå§‹æ•°æ®
   */
  data: {
    infoIcon:"./user-unlogin.png",
    nickName:"æ˜µç§°",
    infoLikes:"18",
    items: [
      {
        imageSrc: "/images/ywhp.jpg",
        title: "ä½™å‘³çƒ˜ç„™å·¥ä½œåŠ",
        pageviews: "233",
        likes: "123",
        comments: "11",
        boxContent: "çŽ¯å¢ƒéžå¸¸å¥½å•Šï¼Œçƒ¤è‚‰æ˜¯æ–°å¼€çš„ã€‚çƒ¤è‚‰ä¹Ÿä¸ç”¨è‡ªå·±åŠ¨æ‰‹ï¼Œéƒ½æ˜¯æœåŠ¡å‘˜å§å§å¸®å¿™çƒ¤çš„ï¼Œè‡ªå·±åç€åƒå°±å¥½äº†ï¼Œä»½é‡å¾ˆå¤šçš„ï¼Œé¾™åˆ©é±¼éžå¸¸éžå¸¸éžå¸¸å¥½åƒï¼Œéžå¸¸å«©ï¼Œåƒå®Œäº†é±¼æˆ‘æ„Ÿè§‰æˆ‘éƒ½å˜èªæ˜Žäº†ðŸ™‹ã€‚è‚‰å¾ˆå¤šçš„ï¼Œåƒåˆ°ä½ è…»ï¼Œä½†æ˜¯é‚£ä¸ªçˆ†æµ†è±†è…æˆ‘è§‰å¾—ä¸å¥½åƒï¼Œçˆ†æµ†æ„Ÿè§‰å¥‡å¥‡æ€ªæ€ªçš„ï¼Œä¸‹æ¬¡å†åŽ»åƒå®ƒå®¶çš„ç«é”…"
      },
      {
        imageSrc: "/images/xxcgs.png",
        title: "é‘«å°åŸŽæ•…äº‹ï¼ˆå…‰è°·åº—ï¼‰",
        pageviews: "233",
        likes: "123",
        comments: "11",
        boxContent: "è¿™ä¸ªå¥—é¤ç‰¹åˆ«å¥½ï¼Œä¸ä»…åˆ’ç®—ï¼Œè€Œä¸”å¾ˆå¥½åƒï¼Œæœ‰ä¸“äººå¸®çƒ¤ï¼Œè¿˜æ˜¯è…Œåˆ¶çš„è‚‰ï¼Œç¾Šè‚‰ç‰›è‚‰åº”æœ‰å°½æœ‰ï¼Œè¿™é‡Œçš„é±¼ä¹Ÿéžå¸¸ä¸é”™ï¼Œæ²¡æœ‰åˆºï¼Œçœäº†æ—¶é—´ï¼Œè€Œä¸”æ–¹ä¾¿ã€‚å¼ºçƒˆæŽ¨èè¿™ä¸ªå¥—é¤ï¼Œéžå¸¸åˆ’ç®—ï¼Œè€Œä¸”ä¹Ÿå¾ˆèµžç¾Žè¿™å®¶åº—ï¼Œä»¥åŽå¸¸æ¥ï¼"
      },
      {
        imageSrc: "/images/hpzzct.jpeg",
        title: "ç¦¾å¸•è‡ªåŠ©é¤åŽ…ï¼ˆä¸–è´¸å¹¿åœºåº—ï¼‰",
        pageviews: "233",
        likes: "123",
        comments: "11",
        boxContent: "è¿˜æ²¡è¿›é—¨ï¼Œå°±æ˜¯ä¸€è‚¡é«˜å¤§ä¸Šçš„æ„Ÿè§‰ã€‚å¤–é¢çš„å°åŸŽå ¡ç¿»æ–°ä¹‹åŽè¿˜çœŸçš„æ„Ÿè§‰å¥½çœ‹äº†å¾ˆå¤š è¿™æ˜¯ä¸€å®¶æ­¦æ±‰çš„è€åº— å¼€äº†å¾ˆä¹… å¾ˆå¤šå¥½åƒçš„ è¿™å®¶å‘³é“çœŸçš„å¾ˆæ£’ å°å§å§æœåŠ¡æ€åº¦ç‰¹åˆ«å¥½ ç»™æˆ‘ä»¬çƒ¤è‚‰è€ƒçš„å¾ˆä¸“ä¸š ðŸ¥°ðŸ¥°ðŸ¥°ç‰¹åˆ«å–œæ¬¢è¿™å®¶ç±³é…’ éš†é‡æŽ¨èä»–ä»¬å®¶çš„ç¾Žé£Ÿ ç§è‰"
      },
      {
        imageSrc: "/images/mskr.jpg",
        title: "ä¹ˆè‚†çƒ¤è‚‰ï¼ˆä¸‡æ¾å›­åº—ï¼‰",
        pageviews: "233",
        likes: "123",
        comments: "11",
        boxContent: "ç‚¹çš„çƒ¤è‚‰ï¼Œå®žæ‰“å®žçš„è‚‰ï¼Œè€Œä¸”æœåŠ¡å‘˜å°å§å§å…¨ç¨‹å¸®å¿™çƒ¤ï¼ŒåŠ¨ä½œç†Ÿç»ƒï¼ŒæœåŠ¡çƒ­æƒ…ã€‚å°±é¤çŽ¯å¢ƒä¹Ÿç‰¹åˆ«å¥½ï¼Œå…³é”®æœ‰ä¸ª88å¥—é¤ï¼Œä¸¤äººåƒé£Ÿï¼Œæˆ‘åƒæ’‘äº†ï¼Œèœå“é‡å¾ˆå¤§ï¼Œä»·æ ¼ä¹Ÿå®žæƒ ï¼Œä¸¤äººå¤Ÿå·²ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œé¥­åº—é‡Œæ”¾çš„éƒ½æ˜¯æˆ‘å–œæ¬¢çš„æ­Œ"
      },
      {
        imageSrc: "/images/sdhg.jpg",
        title: "èˆå¾—ç«é”…ï¼ˆçº¢é’¢åŸŽæ€»åº—ï¼‰",
        pageviews: "233",
        likes: "123",
        comments: "11",
        boxContent: "åº—é“ºä½ç½®å¾ˆå¥½æ‰¾ï¼Œå°±æ˜¯åœè½¦ä¸å¤ªæ–¹ä¾¿ï¼åº—é‡Œçš„ç”Ÿæ„ä¹ŸæŒºå¥½çš„ï¼Œ6.ç‚¹å¤šæ¥å·²ç»å·®ä¸å¤šåæ»¡äº†ã€‚å¥—é¤é‡Œçš„èœå“éƒ½æ˜¯è…Œåˆ¶è¿‡çš„ï¼Œçƒ¤ç†Ÿäº†å¾ˆå…¥å‘³ï¼åº—é‡Œçš„æœåŠ¡å‘˜æœåŠ¡æ€åº¦éžå¸¸å¥½ï¼Œä¹Ÿå¾ˆçƒ­æƒ…ï¼Œå…¨ç¨‹éƒ½å¸®å¿™çƒ¤è‚‰ã€‚èœå“çš„åˆ†é‡ä¹Ÿå¾ˆè¶³ï¼Œä¸¤ä¸ªäººåƒè¶³å¤Ÿäº†ã€‚æˆ‘æœ¬æ¥æ˜¯ä¸€ç‚¹è‚¥è‚‰éƒ½ä¸åƒçš„ï¼Œæˆ‘è€å…¬è¯´è¿™ä¸ªäº”èŠ±è‚‰å¾ˆå¥½åƒï¼Œæˆ‘å°±å°äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªçƒ¤çš„äº”èŠ±è‚‰å‘³é“æ˜¯çœŸçš„å¾ˆä¸é”™ï¼Œå£å‘³é‡çš„è¿˜å¯ä»¥æ²¾è¾£æ¤’ç²‰è·Ÿè¾£é…±åƒã€‚"
      },
    ]
  },
  //æ˜¾ç¤ºå¤´åƒã€æ˜µç§°
  showInfoIcon: function (number, res) {
    switch (number) {
      case '1': { this.setData({ nickName: res.userInfo.nickName }) }
      case '2': { this.setData({ infoIcon: res.userInfo.avatarUrl }) }
    }
    
  },
  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½
   */
  onLoad: function (options) {
    var that =this
    //æ˜¾ç¤ºå¤´åƒã€æ˜µç§°
    wx.getStorage({
      
      key: 'loggedYN',
      success: function (res) {
        if(res.data==='Y'){
          wx.getSetting({
            success: res => {
              if (res.authSetting['scope.userInfo']) {
                // å·²ç»æŽˆæƒï¼Œå¯ä»¥ç›´æŽ¥è°ƒç”¨ getUserInfo èŽ·å–å¤´åƒæ˜µç§°ï¼Œä¸ä¼šå¼¹æ¡†
                wx.getUserInfo({
                  success: res => {
                    //console.log(res);
                    that.setData({
                      infoIcon: res.userInfo.avatarUrl,
                      nickName: res.userInfo.nickName,
                    });
                  }
                });
              }
            }
          });
          wx.getStorage({
            key: 'nickName',
            success: function (res) {
              // console.log(res);
              that.setData({ 
                nickName: res.data
              });
            },
          });
          wx.getStorage({
            key: 'infoIcon',
            success: function (res) {
              that.setData({
                infoIcon: res.data
              });
            },
          })
        };
        

      },
    })
    
  }

})